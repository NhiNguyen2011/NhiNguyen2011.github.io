<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search Engine</title>
    <link rel="stylesheet" href="./style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  </head>
  <body>
    <div class="main">
      <!-- Home Page -->

      <div class="home">
        <div class="container">
          <div class="row">
            <div class="eight columns offset-by-two">
              <h1 class="headline">TU Darmstadt Search</h1>
            </div>
          </div>

          <div class="row">
            <div class="eight columns offset-by-two">
              <form action="" class="wiki-search-form" autocomplete="off">
                <input
                  autocomplete="false"
                  name="hidden"
                  type="text"
                  style="display:none;"
                />
                <input
                  type="search"
                  placeholder="Search..."
                  class="wiki-search-input"
                  id="wiki-search-input"
                />
                <button class="button btn btn-wiki">Search</button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Results Page -->

      <div class="result hidden">
        <header class="header">
          <div class="container">
            <div class="row">
              <div class="two-thirds column">
                <form
                  action=""
                  autocomplete="off"
                  class="result-wiki-search-form"
                >
                  <input
                    autocomplete="false"
                    name="hidden"
                    type="text"
                    style="display:none;"
                  />
                  <input
                    type="text"
                    placeholder="Search Wikipedia..."
                    class="result-wiki-search-form-input"
                    id="result-wiki-search-form-input"
                  />
                  <button class="btn result-btn-wiki">Search</button>
                </form>
              </div>
              <div class="one-third column">
                <h1>TU Darmstadt Search</h1>
              </div>
            </div>
          </div>
        </header>

        <div class="container">
          <section class="search-results">
            <div class="one-half column">
              <div class="display-results"></div>
            </div>
          </section>
        </div>
        <!-- Container -->
      </div>
      <!-- Results -->
    </div>
  </body>

  <script>
    window.onload = function() {
      document.getElementById("wiki-search-input").focus();
    };

    var QA = [
      {
        keywords: [
          "wie",
          "pumpt",
          "Herz",
          "pumpen",
          "Blut",
          "funktioniert",
          "Anatomie",
          "Herzen",
          "Blutgefäße"
        ],
        fullQuestion: "Wie pumpt das Herz Blut?",
        relevantAnswers: [
          {
            title: "T1 Wie funktioniert das Herz? - gesundheitsinformation.de",
            link:
              "https://www.gesundheitsinformation.de/wie-funktioniert-das-herz.2095.de.html#:~:text=Das%20im%20K%C3%B6rper%20%E2%80%9Everbrauchte%E2%80%9C%20%E2%80%93,und%20nimmt%20frischen%20Sauerstoff%20auf.",
            description:
              "Das im Körper „verbrauchte“ – jetzt sauerstoffarme – Blut fließt zurück zum Herzen – genauer gesagt in den rechten Vorhof und von dort in die rechte Kammer....."
          },
          {
            title: "T2 So funktioniert unser Herz | www.herzbewusst.de",
            link:
              "https://www.herzbewusst.de/angina-pectoris-herzinfarkt/so-funktioniert-unser-herz",
            description:
              "Lesen Sie hier wie das Herz aufgebaut ist und wie es funktioniert. Das menschliche Herz pumpt das sauerstoffarme Blut in die Lunge, wo es mit Sauerstoff..."
          },
          {
            title: "T3 So arbeitet das Herz | Stiftung Gesundheitswissen",
            link:
              "https://www.stiftung-gesundheitswissen.de/gesundes-leben/koerper-wissen/so-arbeitet-das-herz",
            description:
              "Von dort aus pumpt es pro Minute etwa fünf Liter Blut durch den Körper, um den Organismus dauerhaft mit Sauerstoff und Nährstoffen zu versorgen – ein ganzes..."
          },
          {
            title:
              "T4 Anatomie des Herzens: Blutfluss, Herzschlag, Herzkranzgefäße",
            link:
              "https://www.hexal.de/patienten/ratgeber/herz-kreislauf/anatomie",
            description:
              "Erfahren Sie hier, wie das Herz aufgebaut ist und wie es funktioniert. Mit dem Schlagen unseres Herzens wird Blut in unseren Kreislauf gepumpt, wodurch unsere..."
          },
          {
            title: "T5 Herz-Kreislauf-System | Beschreibung und Funktionen",
            link:
              "https://www.cardio-guide.com/anatomie/herz-kreislauf-system/",
            description:
              "Die rechte Herzhälfte pumpt über den Lungenkreislauf das sauerstoffarme Blut aus dem Körperkreislauf zur Lunge und danach mit Sauerstoff angereichert..."
          },
          {
            title:
              "T6 Herz & Blutgefäße » Aufbau & Funktion des Blutkreislaufs",
            link:
              "https://www.internisten-im-netz.de/fachgebiete/herz-kreislauf/aufbau-funktion-des-blutkreislaufs/herz-blutgefaesse.html",
            description:
              "Der Blutkreislauf ist ein Netzwerk von Blutgefäßen. Durch die Blutgefäße pumpt das Herz stetig und regelmäßig Blut. Über dieses Versorgungs- und..."
          },
          {
            title: "T7 So funktionieren Herz und Kreislauf - Apotheken.de",
            link:
              "https://www.apotheken.de/krankheiten/hintergrundwissen/4352-so-funktionieren-herz-und-kreislauf",
            description:
              "Venen führen das Blut wieder zum Herzen zurück. Es gibt ... Die linke Kammer pumpt das sauerstoffreiche Blut in die Aorta (Hauptschlagader)..."
          },
          {
            title: "T8 Das Herz – BIOLOGIE",
            link: "https://biologie.oncampus.de/loop/Das_Herz",
            description:
              "Wie pumpt das Herz Blut? Menschen hatten viele verschiedene Meinungen darüber, was das Herz macht. Vor mehr als..."
          },
          {
            title: "T9 Das Herz - biotronik",
            link: "https://www.biotronik.com/de-de/patients/the-heart",
            description:
              "In nur einer Minute pumpt das Herz durch rhythmische Kontraktionen die gesamte Blutmenge einmal durch den ganzen Körper. Etwa 250 Millionen Liter Blut..."
          },
          {
            title: "T10 Das Herz – Motor des Lebens - Herzklappenhilfe",
            link:
              "https://www.herzklappenhilfe.de/herzinsuffizienz-patienten/normale-herzfunktion/",
            description:
              "Die linke Herzkammer pumpt das sauerstoffreiche Blut zurück in den Körperkreislauf, um alle Organe mit Sauerstoff zu versorgen. Die Herzkammern werden von..."
          }
        ],
        irrelevantAnswers: [
          {
            title: "F1 Blutkreislauf (Physiologie)",
            link:
              "https://www.osa.fu-berlin.de/bioinformatik/beispielaufgaben/blutkreislauf/index.html",
            description:
              "Im Lungenkreislauf pumpt... des Herzen sauerstoffarmes und kohlenstoffdioxidreiches Blut über die Pulmonalklappe in die..."
          },
          {
            title: "F2 Blutkreislauf – Biologie",
            link: "https://www.biologie-seite.de/Biologie/Blutkreislauf",
            description:
              "Ebenso wie das Herz ist auch der Blutkreislauf selbst relativ einfach strukturiert. Das venöse Blut wird aus dem Herzen in die Kiemen gepumpt (Kiemenkreislauf)..."
          },
          {
            title: "F3 Herzgesunder Sport: Wie man es richtig macht",
            link:
              "https://www.tagesspiegel.de/themen/herz-und-kreislauf/bewegung-aufpumpen/13581254.html",
            description:
              "Denn bei körperlicher Anstrengung schlägt das Herz häufiger und pumpt mehr Blut in den Körper und der Herzmuskel wird trainiert. Auch Herzkranke sollten..."
          },
          {
            title: "F4 Venenklappen sichtbar machen",
            link:
              "https://kinder.wdr.de/tv/wissen-macht-ah/bibliothek/dasfamoseexperiment/sehen/bibliothek-venenklappen-sichtbar-machen-100.html",
            description:
              "Angetrieben wird dieser Kreislauf von unserem Herzen. Es pumpt pro Minute einmal unser gesamtes Blut durch den Körper. Dabei ist wichtig, dass der Hin- und..."
          },
          {
            title: "F5 Blutfluss durch das HERZ",
            link: "https://de.globometer.com/koerper.php",
            description:
              "Wie viele Liter Blut pumpt das Herz durch den Körper pro Sekunde, pro Tag, ... 5 Liter Blut pro Minute, das ist das gesamte Blutvolumen im menschlichen Körper..."
          },
          {
            title: "F6 Großer und kleiner Blutkreislauf",
            link:
              "https://www.waldorf-ideen-pool.de/Schule/faecher/biologie/menschenkunde-8.-kl.-/blut/grosser-und-kleiner-blutkreislauf",
            description:
              "Der große Körperkreislauf beginnt in der linken Herzkammer, die das in der Lunge mit Sauerstoff..."
          },
          {
            title: "F7 LWL | Das Blauwalherz",
            link:
              "https://www.lwl-naturkundemuseum-muenster.de/de/naturkundemuseum/ausstellungen/archiv-ausstellungen/wale-riesen-der-meere/das-blauwalherz/",
            description:
              "Blauwale besitzen ein riesiges Herz! Es ist ein großer Muskel, der das Blut durch den gewaltigen Körper pumpt... "
          },
          {
            title: "F8 Systole | Phase des Herzschlags",
            link: "https://www.leading-medicine-guide.de/anatomie/systole",
            description:
              "Der zweite Herzton entsteht am Ende der Herzschlagphase, wenn die Taschenklappen sich schließen (Diastole)..."
          },
          {
            title: "F9 Diabetes-Lexikon Systole",
            link: "https://www.diabetes-ratgeber.net/Herz/Systole-27594.html",
            description:
              "Dabei zieht sich das Herz zusammen und pumpt sauerstoffreiches Blut von der linken Herzkammer in die Aorta. Von dort gelangt das Blut über die Arterien..."
          },
          {
            title: "F10 Anatomie und Physiologie",
            link:
              "https://www.kinderkardiologie.uk-erlangen.de/patienten/informationen-zu-den-herzfehlern/das-gesunde-herz/anatomie-und-physiologie/",
            description:
              "Es gibt 4 Herzklappen, die das Blut nur in eine Richtung durchlassen.Dieser füllt sich und zieht sich dann zusammen („pumpt“)..."
          }
        ]
      },
      {
        keywords: [
          "Atlantic",
          "hurricane",
          "hurricanes",
          "August",
          "September"
        ],
        fullQuestion:
          "Why are there more Atlantic hurricanes in August and September?",
        relevantAnswers: [
          {
            title: "T1 Atlantic hurricane season",
            link:
              "https://www.npr.org/2018/09/14/647944033/september-is-peak-hurricane-season-why-is-that?t=1589142487307",
            description:
              "September 10 is the day you are statistically most likely to find a tropical cyclone somewhere in the Atlantic basin..."
          },
          {
            title: "T2 Why September is Atlantic Hurricane Season",
            link:
              "https://www.thoughtco.com/september-heart-of-hurricane-season-4079924",
            description:
              "The Atlantic hurricane season begins on June 1, but an equally important date to mark on your calendar is September 1..."
          },
          {
            title: "T3 September Is Peak Hurricane Season. Why Is That?",
            link:
              "https://weather.com/storms/hurricane/news/atlantic-hurricane-season-ramp-up-august",
            description:
              "There is a 17-day stretch from mid-August to early September during which the most intense U.S. hurricane landfalls all occurred... "
          },
          {
            title: "T4 The peak of the hurricane season",
            link:
              "https://www.accuweather.com/en/weather-news/august-hurricane-analysis-where-atlantic-storms-form-and-which-us-states-are-most-vulnerable/346100",
            description:
              "Peak hurricane season in the Atlantic Basin unfolds in mid-August and lasts through October...."
          }
        ],
        irrelevantAnswers: [
          {
            title: "F1 Facts and Statistics: Hurricanes",
            link:
              "https://www.iii.org/fact-statistic/facts-statistics-hurricanes",
            description: "The 2020 Atlantic hurricane season activity is ...."
          },
          {
            title: "F2 How Often Hurricanes Make Landfall in Florida",
            link:
              "https://www.tripsavvy.com/how-often-do-hurricanes-hit-florida-3266726",
            description:
              "A hurricane is a tropical storm that develops over water...."
          },
          {
            title: "F3 Busy Atlantic hurricane season predicted for 2020",
            link:
              "https://www.noaa.gov/media-release/busy-atlantic-hurricane-season-predicted-for-2020",
            description:
              "An above-normal 2020 Atlantic hurricane season is expected...."
          },
          {
            title: "F4 2020 Atlantic Hurricane Season Fast Facts",
            link:
              "https://edition.cnn.com/2020/05/11/us/2020-atlantic-hurricane-season-fast-facts/index.html",
            description:
              "The 2020 Atlantic hurricane season runs from June 1 to November 30...."
          }
        ]
      }
    ];

    function ajax(keyword) {
      var containKeyword = false;
      for (var i = 0; i < QA.length; i++) {
        containKeyword = QA[i].keywords.some(currentKeyword =>
          keyword.toLowerCase().includes(currentKeyword.toLowerCase())
        );
        if (containKeyword) {
          var relevantAnswers = QA[i].relevantAnswers.sort(
            () => Math.random() - 0.5
          );
          var irrelevantAnswers = QA[i].irrelevantAnswers.sort(
            () => Math.random() - 0.5
          );

          showResults(relevantAnswers.concat(irrelevantAnswers));
          break;
        }
      }
      if (!containKeyword) {
        showError(keyword);
      }
    }

    function showResults(response) {
      for (var i = 0; i < response.length; i++) {
        $(".display-results").append(
          "<div class='result-list result-" +
            i +
            "'>" +
            "<span class='result-title title-" +
            i +
            "'></span>" +
            "<br>" +
            "<span class='result-snippet snippet-" +
            i +
            "'></span>" +
            "<br>" +
            "<span class='result-metadata metadata-" +
            i +
            "'></span>" +
            "</div>"
        );
      }

      for (var m = 0; m < response.length; m++) {
        var title = response[m].title;

        $(".title-" + m).html(
          "<a href='" +
            response[m].link +
            "' target='_blank'>" +
            response[m].title +
            "</a>"
        );
        $(".snippet-" + m).html(response[m].description);
        $(".metadata-" + m).html(
          "<a href='" +
            response[m].link +
            "' target='_blank'>" +
            response[m].link +
            "</a>"
        );
      }
    }

    function showError(keyword) {
      $(".display-results").append(
        "<div class='error'> <p>Your search <span class='keyword'>" +
          keyword +
          "</span> did not match any documents.</p> <p>Suggestions:</p><li>Make sure that all words are spelled correctly.</li><li>Try different keywords.</li><li>Try more general keywords.</li></div> "
      );
    }

    $(".result-btn-wiki").click(function(event) {
      event.preventDefault();
      $(".display-results").html("");
      var keyword = $(".result-wiki-search-form-input").val();
      document.getElementById("result-wiki-search-form-input").blur();
      ajax(keyword);
    });

    $(".btn-wiki").click(function(event) {
      event.preventDefault();
      var keyword = $(".wiki-search-input").val();

      if (keyword !== "") {
        $(".result-wiki-search-form-input").val(keyword);
        $(".home").addClass("hidden");
        $(".result").removeClass("hidden");
        document.getElementById("wiki-search-input").blur();
        $(".wiki-search-input").val("");
        document.getElementById("result-wiki-search-form-input").blur();
        $(".display-results").html("");
        ajax(keyword);
      } else {
        alert("Enter a keyword into the search box");
      }
    });
  </script>
</html>
